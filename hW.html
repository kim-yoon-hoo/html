<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>í™€ì§ ê²Œì„</title>
<style>
    body {
        font-family: Arial, sans-serif;
        text-align: center;
    }

    h1 {
        color: #333;
    }

    button {
        margin: 10px;
        padding: 10px 20px;
        font-size: 16px;
        cursor: pointer;
    }

    #result {
        margin-top: 20px;
        font-size: 18px;
        color: #008000;
    }

    .character {
        margin-top: 20px;
        font-size: 40px;
    }

    .speech-bubble {
        position: relative;
        display: inline-block;
        background-color: #f7f7f7;
        padding: 10px;
        border-radius: 10px;
        margin-top: 20px;
        font-size: 16px;
        color: #000;
    }

    .speech-bubble::after {
        content: '';
        position: absolute;
        top: 100%;
        left: 50%;
        width: 0;
        height: 0;
        border: 10px solid transparent;
        border-top-color: #f7f7f7;
        border-bottom: 0;
        margin-left: -10px;
    }
</style>
</head>
<body>
<h1>í™€ì§ ê²Œì„</h1>
<div class="speech-bubble" id="computerMessage">ì»´í“¨í„°ê°€ ì„ íƒí•œ ìˆ«ì: <span id="computerNumber"></span></div>
<div class="speech-bubble" id="playerMessage">ë‹¹ì‹ ì€: </div>
<button id="oddBtn">í™€</button>
<button id="evenBtn">ì§</button>
<div id="result"></div>
<div class="speech-bubble" id="character">ğŸ˜Š</div>

<script>
    const oddBtn = document.getElementById('oddBtn');
    const evenBtn = document.getElementById('evenBtn');
    const resultDisplay = document.getElementById('result');
    const characterDisplay = document.getElementById('character');
    const computerMessageDisplay = document.getElementById('computerMessage');
    const computerNumberDisplay = document.getElementById('computerNumber');
    const playerMessageDisplay = document.getElementById('playerMessage');
    let consecutiveWins = 0;

    function getRandomMessage(isEven) {
        const messages = [
            isEven ? 'ë‚˜ëŠ” ì§ìˆ˜ì•¼.' : 'ë‚˜ëŠ” í™€ìˆ˜ì•¼.',
            isEven ? 'ë‚˜ëŠ” í™€ìˆ˜ì•¼.' : 'ë‚˜ëŠ” ì§ìˆ˜ì•¼.'
        ];
        return messages[Math.floor(Math.random() * messages.length)];
    }

    function playGame(choice) {
        const computerNumber = Math.floor(Math.random() * 10) + 1; // 1ë¶€í„° 10 ì‚¬ì´ì˜ ë‚œìˆ˜ ìƒì„±
        const isEven = computerNumber % 2 === 0;
        const computerMessage = getRandomMessage(isEven);
        const playerMessage = choice === 'odd' ? 'ë‹¹ì‹ ì€: í™€' : 'ë‹¹ì‹ ì€: ì§';

        playerMessageDisplay.textContent = playerMessage;
        computerNumberDisplay.textContent = computerNumber; // ì»´í“¨í„°ê°€ ì„ íƒí•œ ìˆ«ì í‘œì‹œ
        characterDisplay.textContent = computerMessage;

        const isLie = (isEven && choice === 'odd') || (!isEven && choice === 'even');
        const message = isLie ? 'ì§„ì‹¤' : 'ê±°ì§“';
        
        let i = " "
        let resultText = `${i}`;

        if (isLie) {
            resultText += `ë‚˜ëŠ” ${message}ì´ì•¼.`;
            consecutiveWins = 0; // í‹€ë¦´ ê²½ìš° ì—°ì† ì´ê¸´ íšŸìˆ˜ ì´ˆê¸°í™”
        } else {
            resultText += `ë‚˜ëŠ” ${message}ì´ì•¼.`;
            consecutiveWins++; // ì—°ì† ì´ê¸´ íšŸìˆ˜ ì¦ê°€
            if (consecutiveWins >= 3) {
                resultText += `<br>ì—°ì† ${consecutiveWins}íšŒ ë§ì¶¤!`; // 3íšŒ ì´ìƒ ì—°ì† ì´ê¸´ ê²½ìš° ë©”ì‹œì§€ ì¶”ê°€
            }
        }

        resultDisplay.innerHTML = resultText;
    }

    oddBtn.addEventListener('click', () => playGame('odd'));
    evenBtn.addEventListener('click', () => playGame('even'));

    // ì´ˆê¸° ê²Œì„ ì‹œì‘ ì‹œ ì»´í“¨í„°ê°€ ë¨¼ì € ì„ íƒí•œ ìˆ«ì í‘œì‹œ
    playGame('odd'); // ì„ì˜ë¡œ ì„ íƒí•œ 'odd'ë¡œ ì‹œì‘í•˜ê±°ë‚˜, ì•„ë˜ì˜ ì½”ë“œë¡œ ë¬´ì‘ìœ„ë¡œ ì‹œì‘í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
    // const startingChoice = Math.random() < 0.5 ? 'odd' : 'even';
    // playGame(startingChoice);
</script>
</body>
</html>
